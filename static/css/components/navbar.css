/* Navbar & Profile */
.navbar {
    position: sticky;
    top: 0;
    z-index: 1000;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(0,0,0,0.05);
    display: block; /* inner container handles layout */
    padding: 0;
}

/* Conteneur Logo + Burger pour alignement mobile */
.logo {
    display: flex;
    align-items: center;
    gap: 15px;
}

.navbar .nav-inner{ display: flex; justify-content: space-between; align-items: center; padding: 0 var(--page-gutter); max-width: var(--container-max-width); margin: 0 auto; gap: 1rem; }

/* Barre de recherche */
.search-container {
    flex: 1;
    max-width: 500px;
    margin: 0 2rem;
}

.search-form {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
}

.search-input {
    width: 100%;
    padding: 0.7rem 3.5rem 0.7rem 1.2rem; /* Espace pour le bouton à droite */
    border-radius: 99px;
    border: 1px solid #e2e8f0;
    background-color: #f8fafc;
    font-size: 0.95rem;
    transition: all 0.2s ease;
    font-family: inherit;
}

.search-input:focus { outline: none; background-color: #fff; border-color: var(--primary-color); box-shadow: 0 0 0 4px rgba(0,0,0,0.05); }

/* Bouton Loupe "Pro" */
.search-btn { 
    position: absolute; 
    right: 6px; 
    top: 50%; 
    transform: translateY(-50%); 
    background: var(--primary-color); 
    color: white; 
    width: 34px; height: 34px; border-radius: 50%; 
    display: flex; align-items: center; justify-content: center; 
    border: none; cursor: pointer; transition: all 0.2s; 
}
.search-btn:hover { background: var(--primary-dark); transform: translateY(-50%) scale(1.05); }

.nav-controls { display: flex; align-items: center; gap: 1.5rem; }

.cart-link { text-decoration: none; color: var(--text-dark); position: relative; transition: transform 0.2s; }
.cart-link:hover { transform: scale(1.05); }
.cart-icon { font-size: 1.5rem; background: #fff; padding: 10px; border-radius: 50%; box-shadow: 0 4px 6px rgba(0,0,0,0.06); }

.badge { position: absolute; top: -5px; right: -5px; background: var(--primary); color: white; font-size: 0.75rem; font-weight: 700; min-width: 20px; height: 20px; border-radius: 10px; display: flex; align-items: center; justify-content: center; }

/* Mobile nav toggle */
.nav-toggle { display: none; background: transparent; border: none; padding: 8px; cursor: pointer; margin-left: 10px; }
.nav-toggle .bar { display: block; width: 22px; height: 2px; background: var(--text-dark); margin: 4px 0; transition: transform 0.25s ease, opacity 0.25s ease; }

/* Liens de navigation mobile (cachés par défaut) */
.mobile-nav-links { display: none; }

@media (max-width: 768px) {
    .nav-toggle { display: inline-flex; align-items: center; }
    .search-container { display: none; } /* Masqué sur mobile pour simplifier */
    .nav-controls { position: absolute; top: calc(100% + 8px); right: var(--page-gutter); background: var(--white); padding: 1.5rem; border-radius: 12px; box-shadow: 0 12px 30px rgba(17,24,39,0.15); display: none; flex-direction: column; gap: 1rem; min-width: 250px; z-index: 1000; border: 1px solid rgba(0,0,0,0.05); }
    .nav-controls.open { display: flex; }
    
    /* Afficher les liens dans le menu mobile */
    .mobile-nav-links { display: flex; flex-direction: column; gap: 0.5rem; width: 100%; border-bottom: 1px solid #f1f5f9; padding-bottom: 1rem; margin-bottom: 0.5rem; }
    .nav-item { text-decoration: none; color: var(--text-dark); font-weight: 600; padding: 0.8rem; border-radius: 8px; transition: background 0.2s; }
    .nav-item:hover { background: #f8fafc; color: var(--primary-color); }
}

/* Small animation for logo */
.logo-img { transition: transform 0.26s ease; }
.logo-bundle:hover .logo-img { transform: translateY(-3px) scale(1.02); }

.profile-container { position: relative; user-select: none; }
.profile-trigger { display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 6px 12px; border-radius: 12px; transition: all 0.2s ease; }
.profile-trigger:hover { background: rgba(37, 99, 235, 0.05); }

.avatar-circle { width: 38px; height: 38px; background: linear-gradient(135deg, var(--primary-color), #1e40af); color: white; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.1rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }

.profile-dropdown { display: none; position: absolute; top: 55px; right: 0; background: white; width: 220px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15); border: 1px solid #e2e8f0; z-index: 1000; overflow: hidden; }
.profile-dropdown.show { display: block; animation: slideDown 0.3s ease-out; }

.dropdown-user-info { padding: 15px; background: #f8fafc; border-bottom: 1px solid #e2e8f0; }
.dropdown-item { display: block; padding: 12px 15px; color: #334155; text-decoration: none; transition: 0.2s; }
.dropdown-item:hover { background: #f1f5f9; color: var(--primary-color); }
.logout-btn { color: var(--danger) !important; font-weight: bold; }
